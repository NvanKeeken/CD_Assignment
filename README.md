# CD_Assignment
Assignment CD Winc Back-end Development course

## Drie componenten van mijn CD Assignment:
- Digital Ocean Droplet: Dit is de VPS waar ik in deze opdracht gebruik van maak.
- Github Actions: In mijn workflow het ik gebruim gemaakt van appleboy/ssh@master. Dit is een een hulpmiddel waarmee je op afstand ssh commands kunt uit voeren. Ik heb hier gebruik van gemaakt om via mijn workflow in github actions in te loggen op mijn VPS op digital ocean, om daar de commands uit te voeren om de code up to date te houden met mijn github repository. Hierdoor kan de workflow op de VPS eerst een pull request doen en vervolgens het systeem herstarten, zodat de aanpassingen ook zichtaar worden in de browser. 

## Drie problemen die ik ben tegengekomen :
 - Error bij het inloggen met de ssh key: Nadat ik mijn eerste deploy workflow had aangemaakt kreeg ik telkens de error "ssh: handshake failed: ssh: unable to authenticate, attempted methods [none publickey], no supported methods remain", wanneer ik contact probeerde te leggen met de mijn VPS. Ik heb dit eerst proberen op te lossen door kleine aanpassingen aan mijn yml file te doen. Toen dit niet werkte heb ik een nieuwe ssh keypair aangemaakt, waarmee het in ieder geval lukte om via de terminal in te loggen in mijn VPS. Uiteindelijk kwam ik tot de ontdekking dat ik de verkeerde username gebruikte. Ik dacht dat de hostname van mijn VPS moest zijn, maar na wat zoekwerk op het internet vond ik waar ik de juiste username kon vinden. Na deze aanpassing was mijn deploy workflow succesvol. 

  - systemcln restart error: Nadat ik mijn workflow een aantal keer sucssesvol had afgerond, kreeg ik opeens de error "Job failed because the control process exited with error code." Wanneer ik de command " systemctl restart CD_Assignment " in mijn terminal gaf kreeg ik ook deze error. Uiteindelijk heb ik de command "systemctl stop CD_Assignment" en ben ik de stappen van de exercise Deployment opnieuw doorlopen, maar ook toen kreeg ik deze error bij de command " systemctl enable --now CD_Assignment  ". Toen heb ik besloten de repository van mijn VPS te verwijderen en het vervolgens met git clone weer op te zetten. Hierna werkte de workflow weer.
     
  - running .sh file: In de opdracht beschrijving stond dat het werd aangeraden bash comamnds aan elkaar te koppeln in een .sh file. De .sh file kreeg ik makkelijk geschreven. Ik kreeg het alleen niet voor elkaar de .sh file uit te laten voeren door de workflow. Op youtube heb ik gekeken naar een video waarin hij dit voor elkaar kreeg met "sh ./pull.sh " dit werkte bij mij echter niet. Uiteindelijk heb ik het met een omweg voor elkaar gekregen door bij schript in yml file eerste naar de /home/CD_Assignement te gaan en daar het bestand uit te voeren door "bash pull.sh". Ik weet dat dit niet de beste oplossing is, omdat ik alnog meerder commands in yml file zelf moet schrijven doormiddel van het | symbool, maar op een andere manier lukte het niet. 
    
